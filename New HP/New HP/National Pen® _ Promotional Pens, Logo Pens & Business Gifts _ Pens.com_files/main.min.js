!function(e){"use strict";Object.entries||(Object.entries=function(e){for(var n=Object.keys(e),o=n.length,r=new Array(o);o--;)r[o]=[n[o],e[n[o]]];return r}),String.prototype.endsWith||(String.prototype.endsWith=function(e,n){return(void 0===n||n>this.length)&&(n=this.length),this.substring(n-e.length,n)===e}),e.acq=function(){if(e.acq){var n=e.acq?e.acq:{};n.libraryLoaded=!0,n.version="3.6",n.preload={},n.preload.script=!!e.acqps&&e.acqps,n.preload.tag=!!e.acqpt&&e.acqpt,n.preload.library=!1;var o=!1,r=!1,i=!1,t=null,a=!1,s=(function(){for(var e=document.location.hostname.split("."),n=e.length-1;n>=0;n--){var o=e.slice(n).join(".");document.cookie="cs_test_cookie=1".split("=")[0]+"=;domain=."+o+";expires=Thu, 01 Jan 1970 00:00:01 GMT;"}}(),n.preload.script&&n.preload.script.d?n.preload.script.d:function(){for(var e="cs_test_cookie=1",n=document.location.hostname.split("."),o=n.length-1;o>=0;o--){var r=n.slice(o).join(".");if(document.cookie=e+";domain=."+r+";",document.cookie.indexOf(e)>-1)return setTimeout((function(){document.cookie=e.split("=")[0]+"=;domain=."+r+";expires=Thu, 01 Jan 1970 00:00:01 GMT;"}),2e3),r}return null}()),l=document.location.hostname,u=function(){if(null===s)return[];var e=[s],n=l.substring(0,l.length-s.length);if(n.length>0){var o=n.split(".");o.pop();for(var r=s,i=o.length-1;i>=0;i--)r=o[i]+"."+r,e.push(r)}return e}(),c=0,f="_acsr_",d="_acs_",p="_accutics",v=null,m=null,h=[],g=[],y=null,O=Array.isArray(n.queue)?n.queue:[],k="."+s,S="safari",N="safari",E={endpointRaw:null,endpoint:null,domain:null,httpsOnly:!0,cookies:[],browsers:null},I={init:function(){if(o)throw{type:"INIT_ALREADY_DONE"};var e=arguments[1];if(!e)return H({type:"MISSING_ARGUMENTS",varName:"configuration",varType:"object"}),!1;var r=e.endpoint?e.endpoint:null;if(null===r)return H({type:"MISSING_ARGUMENTS",varName:"endpoint",varType:"string"}),!1;if(!r||"string"!=typeof r)return H({type:"INVALID_ARGUMENT",varName:"endpoint",varType:"string"}),!1;if(0===r.indexOf("https")||0===r.indexOf("http")||0===r.indexOf("//"))return H({type:"ENDPOINT_ERROR"}),!1;if(E.endpointRaw=r,E.endpoint="https://"+r,void 0!==e.domain){if(0===e.domain.indexOf("https")||0===e.domain.indexOf("http")||0===e.domain.indexOf("//"))return H({type:"DOMAIN_ERROR"}),!1;E.domain=0===e.domain.indexOf(".")?e.domain:"."+e.domain}else E.domain=k;void 0!==e.safariOnly?E.browsers=Boolean(e.safariOnly)?N:"all":E.browsers=N,E.httpsOnly=void 0===e.httpsOnly||Boolean(e.httpsOnly),t=b.init().browser,h=U();try{if((v=JSON.parse(h._accutics)).v!==n.version)throw"wrong version";c=parseInt(v.r)}catch(e){z(),L([])}return o=!0,_()&&(T(),G("cookie-saver-preload-complete")),G("cookie-saver-init-complete"),!0},addCookie:function(){C();var e=arguments[1],n=e.name?e.name:null,o=e.expirationDays?e.expirationDays:null;if(null===n)return H({type:"MISSING_ARGUMENTS",varName:"name",varType:"string"}),!1;if(null===o)return H({type:"MISSING_ARGUMENTS",varName:"expirationDays",varType:"number"}),!1;if("number"!=typeof o||o%1!=0)return H({type:"INVALID_ARGUMENT",varName:"expirationDays",varType:"number"}),!1;var r=void 0===e.autoExtend||Boolean(e.autoExtend),i=void 0!==e.domain?e.domain:E.domain,t=void 0===e.backup||Boolean(e.backup),a=void 0!==e.secure&&Boolean(e.secure),s=null;return s=void 0!==e.safariOnly?Boolean(e.safariOnly)?S:"all":E.browsers,E.cookies.filter((function(e){if(e.name===n)return e})).length>0||E.cookies.push({name:n,expiration:o,autoExtend:r,domain:i,backup:t,browsers:s,secure:a}),!0},deleteCookie:function(){C();var e=arguments[1],n=[];if(!e||!e.names||0===e.names.length)return H({type:"MISSING_ARGUMENTS",varName:"names",varType:"array"}),!1;e&&e.names&&Array.isArray(e.names)&&(n=e.names);var o=E.cookies.filter((function(e){if(-1!==n.indexOf(e.name))return e}));return j(o),!0},removeCookieSaver:function(){return function(){for(var e in A(),h=U())0!==e.indexOf(f)&&0!==e.indexOf(d)&&0!==e.indexOf(p)||(B(e,"",0,!1,0),u.forEach((function(n){J(e,"",0,!1,0,"."+n)})));return!0}()},start:function(){return C(),i=!0,!!r||!(r||M().length>0)||(r=!0,q(),F(),!0)},stop:function(){return A()},update:function(){C();var e=arguments[1],n=[],o=!1;e&&e.names&&0!==e.names.length?e&&e.names&&Array.isArray(e.names)&&(n=e.names):o=!0;var r=E.cookies.filter((function(e){if(o||-1!==n.indexOf(e.name))return e}));return V(M(r))},validate:function(){return function(){var o=[];E.cookies.forEach((function(e){var n=!1;e.domain!==l?(u.forEach((function(o){e.domain!=="."+o||(n=!0)})),n||o.push({name:e.name,domain:e.domain})):n=!0}));var r=null;E.endpointRaw.endsWith(l)||(r="Error: The specified endpoint '"+E.endpointRaw+"' is not valid for the current domain '"+l+"'");var i=null;!1===n.preload.script&&(i="Warning: The preload script is missing or not loaded correctly.");var t=null;E.httpsOnly&&"http:"===e.location.protocol&&(t="The option 'httpsOnly' must be set to false to be compatible with the current website protocol 'http', otherwise Cookie Saver will not work properly."),console.log("********** Cookie Saver - Validation Results **********"),console.log(""),null!==r&&(console.log(r),console.log("")),null!==i&&(console.log(i),console.log("")),null!==t&&(console.log(t),console.log("")),o.length>0?o.forEach((function(e){console.log("The cookie '"+e.name+"' has an invalid domain '"+e.domain+"' for the current domain '"+l+"'")})):console.log("-> All configured cookie domains are valid for '"+l+"'"),console.log(""),console.log("*****************************************************")}()},config:function(){console.log("Cookie Saver version: "+n.version),console.log(E)},printConfig:function(){console.log("Cookie Saver version: "+n.version),console.log(E)}};n.callMethod=function(){if(arguments.length<1)return H({type:"MISSING_ARGUMENTS",varName:"attributes",varType:"object"}),!1;var e=arguments[0];return"string"!=typeof e?(H({type:"INVALID_METHOD_NAME",given:e}),!1):I[e]&&"function"==typeof I[e]?arguments[1]?I[e].apply(n,arguments):I[e].apply(n,{}):(H({type:"INVALID_METHOD_NAME",given:e}),!1)};var b={header:[navigator.platform,navigator.userAgent,navigator.appVersion,navigator.vendor,e.opera],dataos:[{name:"Windows Phone",value:"Windows Phone",version:"OS"},{name:"Windows",value:"Win",version:"NT"},{name:"iPhone",value:"iPhone",version:"OS"},{name:"iPad",value:"iPad",version:"OS"},{name:"Kindle",value:"Silk",version:"Silk"},{name:"Android",value:"Android",version:"Android"},{name:"PlayBook",value:"PlayBook",version:"OS"},{name:"BlackBerry",value:"BlackBerry",version:"/"},{name:"Macintosh",value:"Mac",version:"OS X"},{name:"Linux",value:"Linux",version:"rv"},{name:"Palm",value:"Palm",version:"PalmOS"}],databrowser:[{name:"Chrome",value:"Chrome",version:"Chrome"},{name:"Firefox",value:"Firefox",version:"Firefox"},{name:"Safari",value:"Safari",version:"Version"},{name:"Internet Explorer",value:"MSIE",version:"MSIE"},{name:"Opera",value:"Opera",version:"Opera"},{name:"BlackBerry",value:"CLDC",version:"CLDC"},{name:"Mozilla",value:"Mozilla",version:"Mozilla"}],init:function(){var e=this.header.join(" ");return{os:this.matchItem(e,this.dataos),browser:this.matchItem(e,this.databrowser)}},matchItem:function(e,n){var o,r,i,t=0,a=0;for(t=0;t<n.length;t+=1)if(new RegExp(n[t].value,"i").test(e)){if(o=new RegExp(n[t].version+"[- /:;]([\\d._]+)","i"),i="",(r=e.match(o))&&r[1]&&(r=r[1]),r)for(r=r.split(/[._]+/),a=0;a<r.length;a+=1)i+=0===a?r[a]+".":r[a];else i="0";return{name:n[t].name,version:parseFloat(i)}}return{name:"unknown",version:0}}};if(null===s)return H({type:"LOCAL_ENVIRONMENT"}),n;for(;O.length>0;){var x=O.shift();if(!n.callMethod.apply(n,x)){H({type:"METHOD_ERROR"});break}}return n}function T(){function e(e,n,o,r,i){var t=e+"="+n+";";null!==o&&(t+="expires="+o+";"),null!==r&&(t+="domain="+r+";"),i&&(t+="secure;"),t+="path=/;",document.cookie=t}var o=Date.now(),r=U(),i="_acs__acsr_",t=[];Object.entries(r).forEach((function(e){var[n,i]=e;if(0===n.indexOf(d)){var a=!0;if(u.forEach((function(e){n!==d+e||(a=!1)})),a)return void t.push(n);try{var s=JSON.parse(r[n]);if(s.c){var l=n.substring(d.length);for(var[c,f]of Object.entries(s.c)){var p=1e3*parseInt(f.e,36);!(c in r)&&p>o&&J(c,f.v,new Date(p).toUTCString(),f.r?null:"."+l,!!f.s)}}}catch(e){}}})),t.forEach((function(n){var o=r[n];0!==n.indexOf(i)||n.substring(i.length)in r?0===n.indexOf(d)&&(n.substring(d.length)in r||e(n.substring(d.length),o,null,s,null)):e(n.substring(i.length),o,null,null,null)})),n.preload.library=!0}function C(){if(!o)throw{type:"MISSING_INIT"}}function _(){return!(n.preload.script&&3===n.preload.script.version||c>0||n.preload.tag||n.preload.library)}function w(e){return e&&"Safari"===e.name&&e.version>=12.1}function A(){return i=!1,!r||(m&&clearTimeout(m),r=!1,!0)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=E.cookies);var n=[];if(0===e.length)return n;var o=w(t);return e.forEach((function(e){(o||"all"===e.browsers)&&n.push(e)})),n}function R(e){var n={};return n.n=e.name,n.d=e.domain,n.l=e.expiration,e.secure&&(n.s=1),n}function D(e){var n=document.createElement("img");n.height=1,n.width=1,n.style.display="none",n.src=e}function L(e){B(p,JSON.stringify({v:n.version,r:c,el:e,d:s}),0,!1)}function G(e){var n=new CustomEvent(e);document.dispatchEvent(n)}function U(){var e=document.cookie;if(""===e)return[];e=e.split(/; */);for(var n={},o=0;o<e.length;o++)n[e[o].substring(0,e[o].indexOf("="))]=e[o].substring(e[o].indexOf("=")+1);return n}function B(e,n,o,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;J(e,n,o,r,i,null)}function J(e,n,o,r,i,t){var a="";if(a+=e+"="+n+";",o>0){var s=new Date;s.setTime(s.getTime()+24*o*60*60*1e3),a+="expires="+s.toUTCString()+";"}else null!==i&&(a+="max-age="+i+";");null!=t&&(a+="domain="+t+";"),a+="path=/;",r&&(a+="secure;"),document.cookie=a}function P(){if(a)return!0;var e=h[d+s];if(e&&(e=JSON.parse(e)),e&&e.m){var n=new Date,o=n.getFullYear(),r=n.getMonth()+1,i=parseInt((""+o).slice(2)+(""+r).padStart(2,"0"));parseInt(e.m)<i&&(D(E.endpoint+"/3/slice?rd="+s+"&n="+Math.floor(Date.now()/1e3).toString(36)),a=!0)}return!0}function j(e){return 0===e.length||(e.forEach((function(e){for(var n=0;n<E.cookies.length;n++)if(e.name===E.cookies[n].name){E.cookies.splice(n,1);break}})),D(function(e){var n=Math.floor(Date.now()/1e3),o=e.map((function(e){return R(e)}));return E.endpoint+"/3/cut?rd="+E.domain+"&n="+n.toString(36)+"&s="+(E.httpsOnly?"1":"0")+(o.length>0?"&dl="+encodeURIComponent(JSON.stringify(o)):"")}(e))),!0}function q(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];P(),W(M(),"auto",e)}function V(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];P(),W(e,"manual",n)}function W(n,o,r){var i;if(Date.now(),!Array.isArray(n)||0===n.length)return!1;h=U(),i=[],u.forEach((function(e){if(d+e in h){var n={};try{n=JSON.parse(h[d+e])}catch(e){}i[e]=n}})),g=i;var t=function(e,n){var o=[];return e.forEach((function(e){n[e.name]&&o.push(e.name+"="+n[e.name])})),u.forEach((function(e){n[d+e]&&o.push(d+e+"="+n[d+e])})),o.join(";")}(n,h);if(y===t&&"auto"===o)return!0;y=t;var a=function(e,n){var o=h,r=Math.floor(Date.now()/1e3);v={};try{v=o._accutics?JSON.parse(o._accutics):{}}catch(e){}var i=v.el?v.el:[],t=[],a=[],s=[],c=[],f=[],d=[];e.forEach((function(e){var n,p,v=e,m=void 0!==o[v.name],h=!1,y=(n=v.domain,p=v.name,0===n.indexOf(".")&&(n=n.substring(1)),n in g&&g[n].c&&p in g[n].c?g[n].c[p]:null);if(null!==y&&m&&o[v.name]!==y.v&&(h=!0),0===v.domain.indexOf(".")){if(u.indexOf(v.domain.substring(1))>-1)if(v.backup)if(v.autoExtend){if(h)return void f.push(v);if(null===y&&m)return void f.push(v);if(null!==y&&!m)return void s.push(v);if(null!==y&&parseInt(y.e,36)-24*v.expiration*60*60+1800<r)return void f.push(v)}else{if(h)return void f.push(v);if(null===y&&m)return void f.push(v);if(null!==y&&!m)return void c.push(v)}else if(v.autoExtend&&m&&-1===i.indexOf(v.name))return t.push(v),void i.push(v.name)}else if(v.domain===l&&v.backup)if(v.autoExtend){if(h)return void d.push(v);if(null===y&&m)return void d.push(v);if(null!==y&&!m)return a.push(v),void B(v.name,y.v,y.e,v.secure);if(null!==y&&parseInt(y.e,36)-24*v.expiration*60*60+1800<r)return void a.push(v)}else{if(h)return void d.push(v);if(null!==y&&!m&&parseInt(y.e,36)>r)return void B(v.name,y.v,y.e,v.secure);if(null===y&&m)return void d.push(v)}}));var p=t.length>0||a.length>0||s.length>0||c.length>0||f.length>0||d.length>0;return{freshOriginalCookies:t,freshBackupCookies:a,freshLoadCookies:s,staleLoadCookies:c,saveCookies:f,acsrSaveCookies:d,extendedCookiesInSession:i,changes:p,currentTime:r}}(n);if(!a.changes)return!0;var p,m,O,k,S,N,I,b=(m=(p=a).freshOriginalCookies?p.freshOriginalCookies.map((function(e){return R(e)})):[],O=p.freshBackupCookies?p.freshBackupCookies.map((function(e){return R(e)})):[],k=p.freshOriginalCookies?p.freshLoadCookies.map((function(e){return R(e)})):[],S=p.staleLoadCookies?p.staleLoadCookies.map((function(e){return R(e)})):[],N=p.saveCookies?p.saveCookies.map((function(e){return R(e)})):[],I=p.acsrSaveCookies?p.acsrSaveCookies.map((function(e){return R(e)})):[],E.endpoint+"/3/cut?rd="+E.domain+"&n="+p.currentTime.toString(36)+"&s="+(E.httpsOnly?"1":"0")+(m.length>0?"&fo="+encodeURIComponent(JSON.stringify(m)):"")+(O.length>0?"&fb="+encodeURIComponent(JSON.stringify(O)):"")+(k.length>0?"&fl="+encodeURIComponent(JSON.stringify(k)):"")+(S.length>0?"&sl="+encodeURIComponent(JSON.stringify(S)):"")+(N.length>0?"&sv="+encodeURIComponent(JSON.stringify(N)):"")+(I.length>0?"&as="+encodeURIComponent(JSON.stringify(I)):""));return a.acsrSaveCookies.forEach((function(e){!function(e,n,o,r){J(e,n,o,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,"."+s)}(f+e.name,h[e.name],null,e.secure,3)})),r?e.navigator.sendBeacon(b):D(b),c+=1,L(a.extendedCookiesInSession),Date.now(),!0}function z(){for(var e in h=U())if(0===e.indexOf(f)&&(B(e,"",0,!1,0),u.forEach((function(n){J(e,"",0,!1,0,"."+n)}))),0===e.indexOf(d)){var n=!0;u.forEach((function(o){e!==d+o||(n=!1)})),n&&(J(e,"",0,!1,0,null),u.forEach((function(n){J(e,"",0,!1,0,"."+n)})))}return!0}function F(){if(!i)return!0;m=e.setTimeout((function(){q(),F()}),3e3)}function H(e){console.warn("[Cookie Saver] "+function(e){switch(e.type){case"PIXEL_NOT_LOADED":return"Cookie Saver is not loaded correctly. Make sure the pagecode is correctly implemented and initialized.";case"MISSING_INIT":return"Cookie Saver is not initialized correctly, missing init call.";case"INIT_ALREADY_DONE":return"Cookie Saver has already been initialized. Not possible to initialize again.";case"DOMAIN_ERROR":return"Domain should be without the protocol, e.g. .accutics.com";case"ENDPOINT_ERROR":return"Endpoint should be without the protocol, e.g. cookiesaver.accutics.com";case"MISSING_ARGUMENTS":return"Arguments must be provided <"+e.varName+">("+e.varType+").";case"INVALID_METHOD_NAME":return"Method name "+e.given+" (1st argument) must be a string and a valid method name.";case"INVALID_ARGUMENT":return"Argument '"+e.varName+"' must be of type '"+e.varType+"'";case"METHOD_ERROR":return"An error occured while running a method from the queue. Aborting.";case"LOCAL_ENVIRONMENT":return"The environment seems to be local. Aborting.";default:return"Unknown exception: "+e.type+" - "+JSON.stringify(e)}}(e))}H({type:"PIXEL_NOT_LOADED"})}()}(window);