"use strict";define(["jquery","utils","jqueryMenuAim"],function(e,t,a){return function(a){var s=e(".header-menu"),i=e("#site-navigation");e("#navigation-parent").outerHeight();s.on("click",function(t){t.stopPropagation(),e("body").addClass("nav-open")});var n,o=e(".has-subnav"),l=o.find(".navigation-menu__link");(t.isMobileAndTablet()&&(o.removeClass("is-open"),l.on("click",function(t){t.preventDefault(),t.stopPropagation(),setTimeout(function(){e("#nav-scroll").scrollTop(0,0)},200),!1===e(t.target).is(".subnavigation")&&0===e(".subnavigation").has(t.target).length&&(e(this).closest(o).is(".is-open")?(o.removeClass("is-open"),i.removeClass("item-selected")):(o.removeClass("is-open"),e(this).closest(o).addClass("is-open"),e(".has-subnav.category-nav-height.is-open").find("ul").show(),i.addClass("item-selected"))),e(".subnavigation__back-link").on("click",function(a){a.preventDefault(),a.stopPropagation(),e(this).closest(o).find("ul").hide(),e(this).closest(o).removeClass("is-open"),e(t.target).next().attr("id").includes("second")&&(e(t.target).next().addClass("transform-style"),e(t.target).removeClass("text-bold"),e(t.target).prev().removeClass("text-bold"))}),e(t.target).next().removeClass("display-none"),e(t.target).next().attr("id").includes("second")&&(e(this).closest(o).find("ul").show(),e(t.target).next().removeClass("transform-style"),e(t.target).addClass("text-bold"),e(t.target).prev().addClass("text-bold"))})),t.exceptMobileAndTablet())&&(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?l.on("touchend",function(t){if(1!=n){var a=e(t.currentTarget).parent();a.hasClass("has-subnav")&&!a.hasClass("is-open")&&(t.preventDefault(),o.removeClass("is-open"),a.addClass("is-open"),console.log("one class")),!1===i.hasClass("item-selected")&&i.addClass("item-selected")}}).on("touchmove",function(e){n=!0}).on("touchstart",function(){n=!1}):(o.on("mouseover",function(t){t.preventDefault();var a=e(t.currentTarget);i.addClass("item-selected"),a.addClass("is-open")}),o.on("mouseleave",function(t){t.preventDefault();var a=e(t.currentTarget);i.removeClass("item-selected"),a.removeClass("is-open")})));e(document).on("click",function(t){e(t.target).is(s)||1===s.has(t.target).length||!1===e(t.target).is(i)&&0===i.has(t.target).length&&(i.removeClass("item-selected"),o.removeClass("is-open"))}),e(document).ready(function(){var t={value:""},a={opacity:"1",visibility:"visible","-webkiit-transform":"scaleY(1)","-webkit-transform":"scaleY(1)",transform:"scaleY(1)"},s={opacity:"",visibility:"","-webkiit-transform":"","-webkit-transform":"",transform:""};e("ul.header-bottom-list>li>ul.ht-dropdown").menuAim({activate:function(s){if(e(s).children("a").addClass("maintainCategoryHover"),e(s).attr&&e(s).attr("class")&&-1!==e(s).attr("class").indexOf("ico_arrow")){e(s).children("ul").css(a);var i=e(s).children("ul").outerHeight();t.value=e(s).parent("ul");var n=e(s).parent("ul").outerHeight();n>=i?e(s).children("ul").outerHeight(n):e(s).parent("ul").outerHeight(i)}},deactivate:function(a){e(a).children("a").removeClass("maintainCategoryHover"),e(a).attr&&e(a).attr("class")&&-1!==e(a).attr("class").indexOf("ico_arrow")&&(e(a).children("ul").css(s),e(t.value).css("height",""))},exitMenu:function(){return!0}}),e("ul.ht-dropdown.category-sub>li.ico_arrow.menu_act>ul.ht-dropdown.mega-child.category-sub").menuAim({activate:function(s){if(e(s).children("a").addClass("maintainSubCategoryHover"),e(s).attr&&e(s).attr("class")&&-1!==e(s).attr("class").indexOf("ico_arrow")){e(s).children("ul").css(a);var i=e(s).children("ul").outerHeight(),n=e(s).parent("ul").outerHeight();n>=i?e(s).children("ul").outerHeight(n):(e(s).parent("ul").outerHeight(i),e(t.value).outerHeight(i))}},deactivate:function(a){if(e(a).children("a").removeClass("maintainSubCategoryHover"),e(a).attr&&e(a).attr("class")&&-1!==e(a).attr("class").indexOf("ico_arrow")){e(a).children("ul").css(s),e(t.value).css("height",""),e(a).parent("ul").css("height","");var i=e(t.value).outerHeight(),n=e(a).parent("ul").outerHeight();i>=n?e(a).parent("ul").outerHeight(i):e(t.value).outerHeight(n)}},exitMenu:function(){return!0}}),e('[id^="mainNav-"]').on("click",function(t){e("#nav-scroll").addClass("hide-scroll")}),e('[id^="back-link-first-"]').on("click",function(t){e("#nav-scroll").removeClass("hide-scroll")}),e('[id^="span-childNav-second-"], [id^="a-childNav-second-"]').on("click",function(t){setTimeout(function(){e('[id^="childNav-first-"]').scrollTop(0,0)},200),e('[id^="childNav-first-"]').addClass("hide-scroll")}),e('[id^="back-link-second-"]').on("click",function(t){e('[id^="childNav-first-"]').removeClass("hide-scroll")}),e(".close-button").on("click",function(t){t.preventDefault(),t.stopPropagation(),e('[id^="childNav-first-"]').removeClass("hide-scroll"),e("#nav-scroll").removeClass("hide-scroll"),o.find("ul").each(function(){e(this).hide()}),o.removeClass("is-open"),i.removeClass("item-selected"),i.addClass("main-menu-back"),"visible"==e(".black-shade-overlay").css("visibility")&&e(".black-shade-overlay").css({visibility:"hidden"}),e("body").removeClass("nav-open")}),e(".inner-close").on("click",function(t){t.preventDefault(),t.stopPropagation(),e('[id^="childNav-second"]').addClass("transform-style"),e('[id^="span-childNav-second"]').removeClass("text-bold"),e('[id^="a-childNav-second"]').removeClass("text-bold"),e('[id^="childNav-first-"]').removeClass("hide-scroll"),e("#nav-scroll").removeClass("hide-scroll")}),e(".header-menu").on("click",function(t){"hidden"==e(".black-shade-overlay").css("visibility")&&e(".black-shade-overlay").css({visibility:"visible"})}),e(".black-shade-overlay").on("click",function(t){i.addClass("main-menu-back"),"visible"==e(".black-shade-overlay").css("visibility")&&e(".black-shade-overlay").css({visibility:"hidden"}),e("body").hasClass("nav-open")&&e("body").removeClass("nav-open")})}),e(a).attr("data-widget","loaded")}});